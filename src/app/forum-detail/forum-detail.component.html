<div class="container">

    <div class="row" *ngIf="forum" >
        <a routerLink="/forum/{{forum.slug}}"><h4 style="text-align: center;" *ngIf="forum.starting_comment">{{forum.starting_comment.title}}</h4></a>

        <div class="col s12 m7 offset-m3 forum-box" style="font-size: large; line-height: unset">
            <app-comment *ngIf="forum.starting_comment" [comment]="forum.starting_comment" commentType="Forum" [metaData]="forumMetaData" > </app-comment>
        </div>

        <div class="col s12 m7 offset-m3 comment-box">
            <h5 > Comments </h5>

                    <mat-card class="forum-card">

                    <mat-card-content>
                        <input id="forum_title" placeholder="Title" [(ngModel)]="userComment.title" (click)="showPostHelper=true">
                        <textarea (click)="showPostHelper=true" id="forum_comment_text" style="height: 5rem"  placeholder="What do you think?" (keydown.enter)="postComment()" [(ngModel)]="userComment.text">
                        </textarea>
                    </mat-card-content>

                    <mat-card-actions>
                      <p *ngIf="showPostHelper" style="font-size: smaller">Press Enter+Shift to type on multiple lines. Enter to send.</p>
                        <button mat-raised-button style="background-color: #4080FF;" class="btn white-text" (click)="postComment()">Post</button>
                    </mat-card-actions>

                    </mat-card>

            <div  *ngFor="let comment of comments; i as index; first as isFirst; trackBy:trackByFn" class="forum-comments" style="font-size: large">
                <app-comment  [comment]="comment" commentType="Forum"> </app-comment>
            </div>

        </div>
    </div>



  <!-- Loading progress circle -->
  <div *ngIf="!forum" class="preloader-background">
    <div class="preloader-wrapper big active">
      <div class="spinner-layer spinner-blue-only">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div>
        <div class="gap-patch">
          <div class="circle"></div>
        </div>
        <div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>
    </div>
  </div>
</div>
